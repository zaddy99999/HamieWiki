/* MOBILE FIX - Clean restart */
/* This file MUST be imported LAST */

@media (max-width: 768px) {
  /* ROOT - prevent any horizontal scroll */
  html, body {
    overflow-x: hidden !important;
    width: 100% !important;
  }

  /* HIDE ALL DECORATIVE BACKGROUNDS */
  .wiki-bg-effects,
  .wiki-orb, .wiki-orb-1, .wiki-orb-2, .wiki-orb-3,
  .wiki-aurora, .wiki-neon-grid, .wiki-holo-shimmer,
  .wiki-lightning, .wiki-bolt, .wiki-bolt-1, .wiki-bolt-2, .wiki-bolt-3,
  .wiki-energy-stream, .wiki-stream-1, .wiki-stream-2, .wiki-stream-3,
  .wiki-particles, .wiki-particle, .wiki-scanlines,
  .comic-background-container, .comic-bg-container,
  .comic-decoration, .comic-home-1, .comic-home-2, .comic-home-3 {
    display: none !important;
  }

  /* HIDE DESKTOP SIDEBAR ON MOBILE */
  .brutal-sidebar {
    display: none !important;
  }

  /* ===== HAMBURGER BUTTON ===== */
  .mobile-hamburger {
    position: fixed !important;
    top: 12px !important;
    left: 12px !important;
    z-index: 10000 !important;
    width: 44px !important;
    height: 44px !important;
    background: #1a1a2e !important;
    border: 2px solid #0446F1 !important;
    border-radius: 8px !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    gap: 5px !important;
    cursor: pointer !important;
    padding: 10px !important;
  }

  .hamburger-line {
    width: 24px !important;
    height: 3px !important;
    background: #0446F1 !important;
    border-radius: 2px !important;
    transition: transform 0.2s, opacity 0.2s !important;
  }

  .hamburger-line.open:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px) !important;
  }

  .hamburger-line.open:nth-child(2) {
    opacity: 0 !important;
  }

  .hamburger-line.open:nth-child(3) {
    transform: rotate(-45deg) translate(6px, -6px) !important;
  }

  /* ===== MOBILE NAV OVERLAY ===== */
  .mobile-nav-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: rgba(0, 0, 0, 0.7) !important;
    z-index: 9998 !important;
  }

  /* ===== MOBILE NAV MENU ===== */
  .mobile-nav-menu {
    position: fixed !important;
    top: 0 !important;
    left: -280px !important;
    width: 260px !important;
    height: 100vh !important;
    background: #0f0f1a !important;
    border-right: 3px solid #0446F1 !important;
    z-index: 9999 !important;
    display: flex !important;
    flex-direction: column !important;
    transition: left 0.3s ease !important;
    padding: 20px !important;
    box-sizing: border-box !important;
  }

  .mobile-nav-menu.open {
    left: 0 !important;
  }

  .mobile-nav-header {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
    padding: 16px 0 !important;
    border-bottom: 2px solid #AE4DAF !important;
    margin-bottom: 20px !important;
    cursor: pointer !important;
  }

  .mobile-nav-logo {
    width: 48px !important;
    height: 48px !important;
    border: 2px solid #0446F1 !important;
    border-radius: 8px !important;
  }

  .mobile-nav-title {
    font-family: var(--font-brutal-display), Arial, sans-serif !important;
    font-size: 18px !important;
    font-weight: bold !important;
    color: #0446F1 !important;
  }

  .mobile-nav-links {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
    flex: 1 !important;
  }

  .mobile-nav-link {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
    padding: 14px 16px !important;
    background: #1a1a2e !important;
    border: 2px solid #AE4DAF !important;
    border-radius: 8px !important;
    color: #FFFFFF !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.2s !important;
  }

  .mobile-nav-link:active {
    transform: scale(0.98) !important;
    background: #0446F1 !important;
  }

  .mobile-nav-link.active {
    background: #0446F1 !important;
    border-color: #0446F1 !important;
  }

  .mobile-nav-icon {
    font-size: 20px !important;
    width: 28px !important;
    text-align: center !important;
    color: #FFFFFF !important;
    fill: #FFFFFF !important;
  }

  .mobile-nav-footer {
    display: flex !important;
    gap: 16px !important;
    justify-content: center !important;
    padding-top: 20px !important;
    border-top: 2px solid #AE4DAF !important;
  }

  .mobile-nav-footer a {
    color: #0446F1 !important;
    font-weight: bold !important;
    text-decoration: none !important;
    font-size: 14px !important;
  }

  /* ===== MAIN CONTAINERS - FULL WIDTH (no sidebar) ===== */
  .wiki-container,
  .wiki-main,
  main,
  .container,
  .xp-card-main,
  .brutal-tier-maker,
  .build-team-main,
  .build-team-page {
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 60px 0 0 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  /* ALL ELEMENTS - fit within parent */
  .wiki-container *,
  .wiki-main *,
  main *,
  .xp-card-main *,
  .brutal-tier-maker *,
  .build-team-main * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* GRIDS - SINGLE COLUMN ON MOBILE */
  .wiki-intro-grid-4,
  .wiki-intro-grid-3,
  .wiki-glossary-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
    position: relative !important;
    z-index: 1 !important;
    width: 100% !important;
  }

  /* Intro section - full width stacking */
  .wiki-intro-section {
    position: relative !important;
    z-index: 1 !important;
    width: 100% !important;
    display: block !important;
  }

  /* Each intro card - FULL WIDTH, SINGLE COLUMN */
  .cotd-container,
  .mini-quiz,
  .lore-links-section {
    position: relative !important;
    z-index: 1 !important;
    width: 100% !important;
    max-width: 100% !important;
    flex-shrink: 0 !important;
    display: block !important;
    margin-bottom: 16px !important;
  }

  /* Lore links grid - SINGLE COLUMN */
  .lore-links-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    width: 100% !important;
  }

  /* Each lore link card - FULL WIDTH */
  .lore-link-card {
    width: 100% !important;
    max-width: 100% !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
  }

  /* Main characters - 2 per row, smaller */
  .wiki-character-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 8px !important;
  }

  .wiki-character-card {
    padding: 8px !important;
  }

  .wiki-character-avatar {
    width: 100% !important;
    height: auto !important;
    aspect-ratio: 1 / 1 !important;
    max-width: 120px !important;
  }

  .wiki-character-card img,
  .wiki-character-gif {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
  }

  .wiki-character-card h3,
  .wiki-character-name {
    font-size: 0.75rem !important;
    padding: 4px 6px !important;
  }

  .wiki-supporting-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 8px !important;
  }

  /* CORE THEMES - 2-3 per row */
  .wiki-themes-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 8px !important;
  }

  .wiki-theme-card {
    width: 100% !important;
    padding: 8px !important;
    font-size: 0.85rem !important;
  }

  /* CARDS - full width, no overflow */
  .wiki-card,
  .brutal-card,
  .wiki-character-card,
  .wiki-supporting-card,
  .cotd-container,
  .cotd-card,
  .trivia-card,
  .mini-quiz,
  .lore-links,
  .wiki-section,
  .wiki-hero {
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }

  /* CHARACTER NAMES - NO negative margins */
  .wiki-character-name,
  .wiki-supporting-name {
    margin: 0 !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  /* IMAGES */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* REMOVE BOX SHADOWS that can cause visual overflow */
  .wiki-card,
  .wiki-character-card,
  .wiki-supporting-card,
  .cotd-card,
  .trivia-card {
    box-shadow: none !important;
  }

  /* RELATIONSHIP WEB */
  .relationship-web,
  .relationship-web-container {
    width: 100% !important;
    max-width: 100% !important;
    overflow: hidden !important;
  }

  .relationship-web svg {
    max-width: 100% !important;
  }

  /* ===== XP CARD PAGE ===== */
  .xp-card-main {
    margin-left: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 70px 10px 10px 10px !important;
  }

  .id-generator-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
    width: 100% !important;
  }

  .id-config-card,
  .id-preview-card {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .id-row {
    flex-direction: column !important;
    gap: 12px !important;
  }

  .id-upload-box,
  .id-upload-small {
    width: 100% !important;
    max-width: 100% !important;
  }

  .xp-preset-grid {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 8px !important;
    padding: 10px !important;
    background: rgba(0, 0, 0, 0.4) !important;
    border: 2px solid #AE4DAF !important;
    border-radius: 8px !important;
    margin-top: 8px !important;
  }

  .xp-preset-card {
    width: 100% !important;
    height: auto !important;
    min-height: unset !important;
    max-height: unset !important;
    aspect-ratio: 3/2 !important;
    margin: 0 !important;
    border: 2px solid #AE4DAF !important;
    border-radius: 6px !important;
    overflow: hidden !important;
    position: relative !important;
    display: block !important;
    background: #0f0f1a !important;
    transform: none !important;
    transition: border-color 0.15s ease !important;
  }

  .xp-preset-card:hover {
    transform: none !important;
  }

  .xp-preset-card img,
  .xp-preset-card video {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    object-position: center !important;
    display: block !important;
  }

  .xp-preset-placeholder {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    color: #FFFFFF !important;
  }

  .id-preview-container {
    width: 100% !important;
    overflow-x: auto !important;
    padding: 10px !important;
  }

  .abstract-id-card,
  .abstract-xp-card {
    transform: scale(0.7) !important;
    transform-origin: top center !important;
    max-width: 100% !important;
    width: auto !important;
  }

  /* XP Card fixed width override for mobile */
  .abstract-xp-card {
    width: 280px !important;
    max-width: 90vw !important;
  }

  /* ID Card fixed width override for mobile */
  .abstract-id-card {
    width: 100% !important;
    max-width: 450px !important;
  }

  /* XP Card content area - scale down on mobile */
  .abstract-xp-content {
    transform: scale(0.5) translateX(-45%) translateY(35%) !important;
  }

  .abstract-xp-header {
    padding-left: 10px !important;
  }

  .abstract-xp-title {
    font-size: 0.7rem !important;
  }

  .abstract-xp-header img {
    height: 20px !important;
  }

  /* ID Card avatar adjustments */
  .abstract-id-avatar {
    transform: scale(1) !important;
    margin-left: -50px !important;
  }

  .abstract-id-name {
    margin-left: 40px !important;
    font-size: 0.8rem !important;
  }

  .abstract-id-rank {
    margin-left: 45px !important;
    font-size: 0.7rem !important;
  }

  .abstract-id-role {
    margin-left: 50px !important;
    font-size: 0.75rem !important;
  }

  .card-type-toggle {
    display: flex !important;
    width: 100% !important;
  }

  .card-type-btn {
    flex: 1 !important;
  }

  .id-btn-group {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .id-download-btn {
    width: 100% !important;
  }

  /* ===== BUILD TEAM PAGE ===== */
  .build-team-page,
  main.build-team-page {
    margin-left: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 70px 10px 10px 10px !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  .build-team-layout {
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .build-team-main {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    order: 1 !important;
  }

  .build-team-templates {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    order: 2 !important;
  }

  .build-team-templates-grid {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 6px !important;
  }

  .build-team-template-btn {
    width: 100% !important;
    padding: 8px 4px !important;
    font-size: 11px !important;
  }

  .build-team-top-bar {
    flex-direction: column !important;
    gap: 8px !important;
    align-items: stretch !important;
    width: 100% !important;
  }

  .build-team-mode-toggle {
    display: flex !important;
    width: 100% !important;
  }

  .build-team-mode-btn {
    flex: 1 !important;
  }

  .build-team-actions {
    display: flex !important;
    width: 100% !important;
    justify-content: space-between !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
  }

  .build-team-container {
    width: 100% !important;
    max-width: 100% !important;
    padding: 6px !important;
    box-shadow: 3px 3px 0 var(--palette-border) !important;
  }

  .build-team-tiers {
    width: 100% !important;
    max-width: 100% !important;
  }

  .build-team-tier-row {
    display: flex !important;
    width: 100% !important;
    max-width: 100% !important;
    gap: 4px !important;
    margin-bottom: 4px !important;
  }

  .build-team-slots {
    display: flex !important;
    flex: 1 !important;
    gap: 3px !important;
    overflow: hidden !important;
  }

  .build-team-slot {
    flex: 1 !important;
    min-width: 0 !important;
    width: auto !important;
    height: 50px !important;
    padding: 2px !important;
  }

  .build-team-avatar {
    width: 32px !important;
    height: 32px !important;
  }

  .build-team-name {
    font-size: 7px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
  }

  .build-team-price-label {
    min-width: 28px !important;
    width: 28px !important;
    font-size: 11px !important;
    padding: 2px !important;
  }

  .build-team-pool {
    width: 100% !important;
    max-width: 100% !important;
  }

  .build-team-pool-grid {
    display: grid !important;
    grid-template-columns: repeat(5, 1fr) !important;
    gap: 4px !important;
  }

  .build-team-pool-item {
    width: 100% !important;
    padding: 4px !important;
  }

  .build-team-pool-item img {
    width: 30px !important;
    height: 30px !important;
  }

  .build-team-pool-item span {
    font-size: 8px !important;
  }

  .build-team-header {
    flex-direction: column !important;
    gap: 4px !important;
    text-align: center !important;
    padding-bottom: 6px !important;
    margin-bottom: 6px !important;
  }

  .build-team-title-input {
    width: 100% !important;
    font-size: 14px !important;
    text-align: center !important;
  }

  .build-team-budget-input {
    width: 40px !important;
  }

  .build-team-footer {
    padding: 4px !important;
    font-size: 10px !important;
  }

  .build-team-action-btn {
    padding: 6px 10px !important;
    font-size: 11px !important;
  }

  .build-team-spent {
    font-size: 12px !important;
    padding: 4px 8px !important;
  }

  /* ===== GALLERY PAGE ===== */
  .gallery-page-new {
    padding: 8px !important;
    min-height: 100vh !important;
  }

  .gallery-layout-new {
    flex-direction: column !important;
    height: auto !important;
    min-height: calc(100vh - 16px) !important;
  }

  .gallery-sidebar-new {
    width: 100% !important;
    min-width: unset !important;
    height: 36px !important;
    border-right: none !important;
    border-bottom: 2px solid var(--brand-primary) !important;
  }

  .gallery-sidebar-new span {
    writing-mode: horizontal-tb !important;
    transform: none !important;
    font-size: 0.9rem !important;
    letter-spacing: 2px !important;
  }

  .gallery-header-new {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 8px !important;
    padding: 8px !important;
  }

  .gallery-tabs-new {
    width: 100% !important;
    justify-content: center !important;
    flex-wrap: wrap !important;
  }

  .gallery-tabs-new button,
  .gallery-tabs-new a {
    padding: 8px 12px !important;
    font-size: 0.75rem !important;
    flex: 1 !important;
    text-align: center !important;
  }

  .gallery-controls-new {
    width: 100% !important;
    justify-content: center !important;
  }

  .gallery-grid-new {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 6px !important;
    padding: 6px !important;
  }

  .gallery-card-new {
    border-radius: 8px !important;
  }

  /* Comics tab mobile */
  .gallery-comics-new {
    padding: 8px !important;
  }

  .comic-series-new h2 {
    font-size: 1rem !important;
    padding: 10px !important;
  }

  .comic-grid-new {
    gap: 8px !important;
  }

  .comic-grid-new.cols-2,
  .comic-grid-new.cols-3 {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Chaos mode mobile */
  .gallery-chaos-feed {
    min-height: 400px !important;
  }

  .chaos-scatter-container {
    height: 400vh !important;
  }

  .chaos-comic {
    width: 100px !important;
  }

  /* Lightbox mobile */
  .gallery-lightbox-new {
    padding: 10px !important;
  }

  .gallery-lightbox-new img,
  .gallery-lightbox-new video {
    max-width: 95vw !important;
    max-height: 85vh !important;
  }

  .gallery-lightbox-new button {
    width: 36px !important;
    height: 36px !important;
    top: 10px !important;
    right: 10px !important;
    font-size: 1.25rem !important;
  }

  /* ===== TIER MAKER PAGE ===== */
  .brutal-tier-maker {
    padding: 8px !important;
    margin-left: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .brutal-tier-header-wrapper {
    margin-bottom: 10px !important;
  }

  .brutal-tier-header {
    padding: 12px 16px !important;
    box-shadow: 4px 4px 0 #AE4DAF !important;
  }

  .brutal-tier-header h1 {
    font-size: 1.5rem !important;
  }

  .brutal-tier-header p {
    font-size: 0.75rem !important;
  }

  .brutal-tier-container {
    padding: 8px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .brutal-tier-top-row {
    flex-direction: column !important;
    gap: 8px !important;
    align-items: stretch !important;
  }

  .brutal-tier-title {
    font-size: 1.1rem !important;
    text-align: center !important;
  }

  .brutal-tier-top-row .brutal-tier-actions {
    justify-content: center !important;
  }

  .brutal-tier-row {
    min-height: 50px !important;
  }

  .brutal-tier-label {
    width: 36px !important;
    min-width: 36px !important;
    font-size: 1.3rem !important;
  }

  .brutal-tier-items {
    gap: 3px !important;
    padding: 3px !important;
    min-height: 56px !important;
  }

  .brutal-tier-item {
    width: 50px !important;
    padding: 3px !important;
  }

  .brutal-tier-item img {
    width: 36px !important;
    height: 36px !important;
  }

  .brutal-tier-item span {
    font-size: 0.5rem !important;
    margin-top: 1px !important;
  }

  .brutal-unranked {
    padding: 8px !important;
  }

  .brutal-unranked-header {
    margin-bottom: 8px !important;
    padding-bottom: 6px !important;
  }

  .brutal-unranked-header span {
    font-size: 1rem !important;
  }

  .brutal-unranked-items {
    gap: 4px !important;
    max-height: 200px !important;
  }

  .brutal-faction-label {
    font-size: 0.55rem !important;
    padding: 2px 4px !important;
    height: 20px !important;
  }

  .brutal-btn {
    padding: 6px 12px !important;
    font-size: 0.75rem !important;
  }

  .brutal-toast {
    padding: 8px 16px !important;
    font-size: 0.75rem !important;
    top: 70px !important;
  }

  /* ===== ALL CHARACTERS SECTION (Build Team) ===== */
  .tier-list-unranked {
    width: 100% !important;
    max-width: 100% !important;
    padding: 8px !important;
  }

  .tier-list-unranked-header {
    font-size: 0.9rem !important;
  }

  .tier-list-unranked-items {
    gap: 4px !important;
  }

  .tier-list-item {
    width: 50px !important;
    padding: 3px !important;
  }

  .tier-list-item img {
    width: 36px !important;
    height: 36px !important;
  }

  .tier-list-item span {
    font-size: 0.5rem !important;
  }

  .faction-label-inline {
    font-size: 0.5rem !important;
    padding: 2px 4px !important;
    height: 18px !important;
  }

  /* ===== TOUCH TARGET FIXES ===== */
  /* Ensure minimum 44px touch targets for accessibility */
  .cotd-nav-btn {
    min-width: 44px !important;
    min-height: 44px !important;
    width: 44px !important;
    height: 44px !important;
  }

  .mobile-nav-link {
    min-height: 44px !important;
  }

  .mini-quiz-option {
    min-height: 44px !important;
  }

  .lore-link-card {
    min-height: 44px !important;
  }

  /* ===== FONT SIZE FIXES ===== */
  /* Ensure readable font sizes on mobile */
  .build-team-name {
    font-size: 9px !important;
  }

  .build-team-pool-item span {
    font-size: 10px !important;
  }

  /* ===== OVERFLOW PREVENTION ===== */
  .wiki-quote-card,
  .retro-chat-bubble {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  pre, code {
    overflow-x: auto !important;
    max-width: 100% !important;
  }

  table {
    display: block !important;
    overflow-x: auto !important;
    max-width: 100% !important;
  }

  /* ===== CHARACTER DETAIL PAGE ===== */
  .wiki-article-layout {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
  }

  /* Infobox should appear FIRST on mobile (above content) */
  .wiki-infobox {
    order: -1 !important;
    position: static !important;
    width: 100% !important;
    max-width: 100% !important;
    margin-bottom: 16px !important;
  }

  .wiki-article-content {
    order: 1 !important;
    width: 100% !important;
  }

  /* Infobox image - constrain size on mobile */
  .wiki-infobox-image {
    max-height: 300px !important;
    overflow: hidden !important;
  }

  .wiki-infobox-image img {
    width: 100% !important;
    height: auto !important;
    max-height: 300px !important;
    object-fit: contain !important;
  }

  /* Similar characters in infobox - 2 per row */
  .wiki-similar-characters {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 8px !important;
  }

  .wiki-similar-character {
    flex-direction: column !important;
    text-align: center !important;
    padding: 8px !important;
  }

  .wiki-similar-avatar {
    width: 40px !important;
    height: 40px !important;
  }

  .wiki-similar-name {
    font-size: 11px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    max-width: 100% !important;
  }

  /* Appearances table - make responsive */
  .wiki-article-section table {
    display: block !important;
    width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .wiki-article-section table th,
  .wiki-article-section table td {
    padding: 8px 10px !important;
    font-size: 12px !important;
    white-space: nowrap !important;
  }

  /* Related characters grid - 2 columns on mobile */
  .related-characters-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 8px !important;
  }

  .related-character-card {
    padding: 8px !important;
    gap: 8px !important;
  }

  .related-character-avatar {
    width: 36px !important;
    height: 36px !important;
  }

  .related-character-name {
    font-size: 12px !important;
  }

  .related-character-role {
    font-size: 10px !important;
  }

  /* Relationship grid - 2 columns on mobile */
  .wiki-relationship-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 8px !important;
  }

  .wiki-relationship-card {
    padding: 10px !important;
  }

  .wiki-relationship-name {
    font-size: 12px !important;
  }

  .wiki-relationship-type {
    font-size: 10px !important;
  }

  /* Traits grid - wrap better on mobile */
  .wiki-traits-grid {
    gap: 6px !important;
  }

  .wiki-trait-badge {
    font-size: 11px !important;
    padding: 4px 8px !important;
  }

  .wiki-conflict-badge {
    font-size: 11px !important;
    padding: 4px 8px !important;
  }

  /* See also section */
  .wiki-see-also {
    margin-top: 24px !important;
    padding-top: 16px !important;
  }

  .wiki-see-also-grid {
    gap: 8px !important;
  }

  .wiki-see-also-link {
    padding: 8px 12px !important;
    font-size: 12px !important;
  }

  /* Share modal - full width on mobile */
  .share-modal-overlay {
    padding: 16px !important;
  }

  .share-modal {
    width: 100% !important;
    max-width: 100% !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
  }

  .share-card-preview {
    padding: 16px !important;
  }

  .share-card-preview img {
    width: 80px !important;
    height: 80px !important;
  }

  .share-actions {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .share-action-btn {
    width: 100% !important;
  }

  /* Article header adjustments */
  .wiki-article-header {
    padding: 0 12px !important;
  }

  .wiki-article-title {
    font-size: 1.5rem !important;
    word-break: break-word !important;
  }

  .wiki-article-subtitle {
    font-size: 0.9rem !important;
  }

  /* Section headers */
  .wiki-article-section h2 {
    font-size: 1.1rem !important;
  }

  .wiki-section-header-with-link {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 8px !important;
  }

  /* Article sections padding */
  .wiki-article-section {
    padding: 0 12px !important;
  }

  /* Breadcrumb - smaller on mobile */
  .breadcrumb {
    font-size: 12px !important;
    flex-wrap: wrap !important;
    padding: 0 12px !important;
  }

  /* Infobox table adjustments */
  .wiki-infobox-table th,
  .wiki-infobox-table td {
    padding: 8px 12px !important;
    font-size: 13px !important;
  }

  /* Infobox badges */
  .wiki-infobox-badges {
    padding: 8px !important;
    gap: 6px !important;
  }

  .wiki-infobox-badge {
    font-size: 10px !important;
    padding: 4px 8px !important;
  }

  /* Infobox section titles */
  .wiki-infobox-section {
    padding: 12px !important;
  }

  .wiki-infobox-section-title {
    font-size: 10px !important;
    margin-bottom: 8px !important;
  }
}

/* ===== EXTRA SMALL SCREENS (320px - 480px) ===== */
@media (max-width: 480px) {
  /* Reduce padding further for very small screens */
  .wiki-container,
  .wiki-main,
  main,
  .container {
    padding: 50px 0 0 0 !important;
  }

  .xp-card-main,
  .build-team-page,
  main.build-team-page {
    padding: 60px 6px 6px 6px !important;
  }

  /* Stack grids to single column */
  .wiki-character-grid,
  .wiki-supporting-grid,
  .wiki-themes-grid {
    grid-template-columns: 1fr !important;
  }

  /* Character avatar sizing for small screens */
  .wiki-character-avatar {
    width: 100% !important;
    max-width: 100px !important;
  }

  .wiki-character-card h3,
  .wiki-character-name {
    font-size: 0.7rem !important;
    padding: 3px 5px !important;
  }

  /* XP Preset grid - 2 columns on very small screens */
  .xp-preset-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 6px !important;
    padding: 8px !important;
  }

  /* Build team - smaller items */
  .build-team-slot {
    height: 44px !important;
  }

  .build-team-avatar {
    width: 28px !important;
    height: 28px !important;
  }

  .build-team-pool-grid {
    grid-template-columns: repeat(4, 1fr) !important;
  }

  .build-team-pool-item img {
    width: 26px !important;
    height: 26px !important;
  }

  .build-team-templates-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Tier maker adjustments */
  .brutal-tier-label {
    width: 32px !important;
    min-width: 32px !important;
    font-size: 1.2rem !important;
  }

  .brutal-tier-item {
    width: 44px !important;
  }

  .brutal-tier-item img {
    width: 32px !important;
    height: 32px !important;
  }

  .brutal-tier-item span {
    font-size: 0.45rem !important;
  }

  .brutal-tier-row {
    min-height: 44px !important;
  }

  .brutal-tier-items {
    min-height: 48px !important;
  }

  /* Gallery adjustments for extra small screens */
  .gallery-grid-new {
    gap: 4px !important;
    padding: 4px !important;
  }

  .gallery-tabs-new button,
  .gallery-tabs-new a {
    padding: 6px 8px !important;
    font-size: 0.65rem !important;
  }

  .chaos-comic {
    width: 80px !important;
  }

  /* Navigation menu adjustments */
  .mobile-nav-menu {
    width: 240px !important;
  }

  .mobile-nav-link {
    padding: 12px 14px !important;
    font-size: 14px !important;
  }

  /* Hero section */
  .wiki-hero {
    padding: 12px 16px !important;
  }

  .wiki-hero-text h1 {
    font-size: clamp(1.5rem, 6vw, 2rem) !important;
  }

  /* Intro grid cards */
  .wiki-intro-grid-3 {
    gap: 8px !important;
  }

  .cotd-container,
  .mini-quiz,
  .lore-links,
  .lore-links-section {
    padding: 10px !important;
  }

  .cotd-avatar {
    width: 80px !important;
    height: 80px !important;
  }

  /* Font size minimums */
  .mini-quiz-question {
    font-size: 0.9rem !important;
  }

  .mini-quiz-option {
    padding: 10px 12px !important;
    font-size: 0.8rem !important;
  }

  /* Quote cards */
  .wiki-quote-text {
    font-size: 1rem !important;
  }

  .retro-quote-line {
    font-size: 13px !important;
  }

  /* ===== CHARACTER DETAIL PAGE - Extra Small ===== */
  /* Infobox image smaller */
  .wiki-infobox-image {
    max-height: 250px !important;
  }

  .wiki-infobox-image img {
    max-height: 250px !important;
  }

  /* Smaller article title */
  .wiki-article-title {
    font-size: 1.25rem !important;
  }

  .wiki-article-subtitle {
    font-size: 0.8rem !important;
  }

  /* Relationship grid single column on very small */
  .wiki-relationship-grid {
    grid-template-columns: 1fr !important;
  }

  /* Related characters single column on very small */
  .related-characters-grid {
    grid-template-columns: 1fr !important;
  }

  .related-character-card {
    flex-direction: row !important;
    justify-content: flex-start !important;
  }

  /* Similar characters in infobox - single column */
  .wiki-similar-characters {
    grid-template-columns: 1fr !important;
  }

  .wiki-similar-character {
    flex-direction: row !important;
    text-align: left !important;
    gap: 8px !important;
  }

  /* Section headers smaller */
  .wiki-article-section h2 {
    font-size: 1rem !important;
  }

  /* Smaller padding for article sections */
  .wiki-article-section {
    padding: 0 8px !important;
  }

  /* Smaller trait badges */
  .wiki-trait-badge,
  .wiki-conflict-badge {
    font-size: 10px !important;
    padding: 3px 6px !important;
  }

  /* Share modal smaller preview */
  .share-card-preview img {
    width: 60px !important;
    height: 60px !important;
  }

  .share-card-preview h4 {
    font-size: 14px !important;
  }

  .share-card-preview p {
    font-size: 12px !important;
  }
}

/* ===== MINIMUM SCREEN (320px) ===== */
@media (max-width: 360px) {
  /* Further reduce for very narrow screens */
  .mobile-hamburger {
    top: 8px !important;
    left: 8px !important;
  }

  .wiki-container,
  .wiki-main,
  main {
    padding-top: 44px !important;
  }

  .xp-card-main,
  .build-team-page {
    padding: 52px 4px 4px 4px !important;
  }

  /* Single column everything */
  .xp-preset-grid,
  .build-team-templates-grid,
  .build-team-pool-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .build-team-slot {
    height: 40px !important;
  }

  .build-team-pool-item img {
    width: 24px !important;
    height: 24px !important;
  }

  /* Reduce mobile nav width */
  .mobile-nav-menu {
    width: 220px !important;
  }

  /* Scale down XP card preview */
  .abstract-id-card,
  .abstract-xp-card {
    transform: scale(0.75) !important;
  }
}
